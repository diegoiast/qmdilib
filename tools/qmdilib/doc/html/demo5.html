<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>qmdilib: Demo5 - Building the code as a static library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1><a class="anchor" name="demo5">Demo5 - Building the code as a static library</a></h1>This fifth demo, shows how to build qdmilib into staticlibraries, and also how to build new libraries which use qmdilib classses and how to link those libraries into your application.<p>
This application uses the same code as demo2 and demo4, with a single difference: all the classes of qmdilib are compiled into a static library (libqmdi.a), and the extended text editor and help browser into another library (libqexedit.a). The final binary will be linked with those libraries. This demo will provide the same functionlity as demo2 and demo4, but unlike demo4 the binary produced will be slightly bigger because of the static linking, it should be more or less the same size as demo2.<p>
The main project on this demo is a subdirs project, which will build the qmdilib library, the qexedit library and finally also the main application.<p>
This is the project file for qmdilib: <div class="fragment"><pre class="fragment">TEMPLATE = lib
TARGET = qmdi
CONFIG += staticlib
VERSION = 0.0.2

DESTDIR = ../
MOC_DIR =  ../../../tmp/
RCC_DIR =  ../../../tmp/
UI_DIR =  ../../../tmp/
OBJECTS_DIR = ../../../tmp/
INCLUDEPATH += . ../../../src

<span class="preprocessor"># Input</span>
<span class="preprocessor"></span>HEADERS += ../../../src/actiongroup.h \
           ../../../src/actiongrouplist.h \
           ../../../src/qmdiclient.h \
           ../../../src/qmdihost.h \
           ../../../src/qmdiserver.h \
           ../../../src/qmditabwidget.h

SOURCES += ../../../src/actiongroup.cpp \
           ../../../src/actiongrouplist.cpp \
           ../../../src/qmdiclient.cpp \
           ../../../src/qmdihost.cpp \
           ../../../src/qmdiserver.cpp \
           ../../../src/qmditabwidget.cpp
</pre></div><p>
This is the project file for qexedit, see how it also links the qmdi library: <div class="fragment"><pre class="fragment">TEMPLATE = lib
TARGET = qexedit
CONFIG += staticlib
VERSION = 0.0.2

DESTDIR = ../
MOC_DIR =  ../../../tmp/
RCC_DIR =  ../../../tmp/
UI_DIR =  ../../../tmp/
OBJECTS_DIR = ../../../tmp/
INCLUDEPATH += . ../../../src

<span class="preprocessor"># Input</span>
<span class="preprocessor"></span>unix:LIBS += -L../ -lqmdi

HEADERS += ../../demo2/qexeditor.h \
           ../../demo2/helpbrowse.h

SOURCES += ../../demo2/qexeditor.cpp \
           ../../demo2/helpbrowse.cpp
</pre></div><p>
This is the project file for the main application, see how it links qmdi and qexedit. Unlike demo4, the wrapper script is not needed on Unix, and the *.a files are not needed on the release package. <div class="fragment"><pre class="fragment">TEMPLATE = app
TARGET = demo5
CONFIG += <span class="keyword">static</span>

DESTDIR = ../
MOC_DIR =  ../../../tmp/
RCC_DIR =  ../../../tmp/
UI_DIR =  ../../../tmp/
OBJECTS_DIR = ../../../tmp/
INCLUDEPATH += . ../../../src/ ../../demo2/

<span class="preprocessor"># Input</span>
<span class="preprocessor"></span>unix:LIBS += -L../ -lqmdi  -lqexedit
win32:LIBS += ../libqexedit.a ../libqmdi.a

RESOURCES += demo5.qrc
HEADERS += mainwindow5.h
SOURCES += mainwindow5.cpp  main5.cpp
</pre></div><p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="demo2.html">Demo2 - Using the new tab widget to display dynamic menus</a> <p>
<a class="el" href="demo4.html">Demo4 - Building the code as a shared library</a> <p>
<a class="el" href="small_tutor.html">Small tutorial and introduction</a> <p>
Back to the main page <a class="el" href="index.html#index">qmdilib</a> </dd></dl>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jul 21 18:51:40 2006 for qmdilib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
